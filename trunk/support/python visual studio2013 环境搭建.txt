使用Visual Studio 2013开发Python的C++扩展之准备步骤

一、在Visual Studio 2013 右键单击“项目属性页”，配置属性->VC++目录，
1、选择“包含文件”，添加Python安装路径里面的include目录；
2、选择“库文件”，添加Python安装路径里面的libs目录

二、新建项目，项目类型选择C++的MFC DLL。注意项目名要全小写（其实只要最后生成的dll是全小写就可以了，这里为了方便起见）。这里举例项目名为"pytest"
三、删除除了"pytest.{cpp, h}"以外的所有.h 和.cpp

四、打开"pytest.h"，删除所有东西。输入"include <Python.h>"
五、打开"pytest.cpp"，删除所有东西除了include <pytest.h>这句
六、右击项目->属性，配置属性->C/C++->预编译头，将“创建/使用预编译头”选项设为“不使用预编译头”
七、继续在项目属性窗口，配置属性->链接器->输入，将“模块定义文件”的值删除；配置属性->链接器->常规，把“输出文件”的值中的"dll"替换为"pyd"

在包含目录中添加：

D:\boost_1_57_0
D:\Anaconda\include
new文件夹
在引用目录中添加：

D:\boost_1_57_0\libs\
D:\Anaconda\libs
new文件夹
然后点击“链接器”，在附加库目录中添加：

D:\boost_1_57_0\stage\lib
D:\Anaconda\libs
new文件夹
最后点击“C/C++” -> "预编译头”，将“预编译头”设置为“不使用预编译头”。

都设置完了记得点“确定”，不然又得重弄一遍。



安装boost：

把Boost库放在D:\boost_1_57_0这个文件夹下，首先我们要切换到这个文件夹，逐行输入以下命令，输完后记得回车：

d:

cd\boost_1_57_0


然后输入以下内容，用于生成b2.exe文件：

bootstrap.bat

接下来编译boost库，--toolset=msvc-12.0是因为作者使用的是VS2013, --build-type=complete编译整个boost库，因为项目中不止用到boost.python：

b2 --toolset=msvc-12.0 --build-type=complete

